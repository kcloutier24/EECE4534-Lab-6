1. Improve the implementation so that it can handle long messages of any size.
2. Describe your design how to handle long messages in the issue in a few sentences. Write comments to the relevant statements in the code. 
3. Validate correct functionality by piping a very long message into the device file. 
4. Commit (reference the issue in the commit message), and note your final observations in the issue and close it.